/* Drop component for jQuery ( AMD Module ) | MIT Licenses | 2013-10-27 */
define(["../../drag/js/drag.min"],function(){var p={accept:"*",mode:"pointer"},g=[],k=function(a){var b=a.offset();return{top:b.top,right:b.left+a.outerWidth(),bottom:b.top+a.outerHeight(),left:b.left}},q={pointer:function(a,b){return a.left>=b.left&&a.left<=b.right&&a.top>=b.top&&a.top<=b.bottom},intersect:function(a,b){return a.top<=b.bottom&&a.right>=b.left&&a.bottom>=b.top&&a.left<=b.right},strict:function(a,b){return a.top>=b.top&&a.right<=b.right&&a.bottom<=b.bottom&&a.left>=b.left}},h=function(a,
b){a=$(a).eq(0);b=b||{};if(a.length){var d=$.extend({},p,b);a.data("dropIndex",g.length);g.push({elem:a,mode:d.mode,accept:d.accept});d.target=a;this.__o__=d}};h.filter=function(a,b){var d,c,e;return~b.indexOf(".")?(c=a.className,d=b.indexOf("."),e=" "+b.substring(d+1)+" ",d=b.substring(0,d).toUpperCase(),(!d||a.tagName===d)&&c&&!!~(" "+c+" ").indexOf(e)):~b.indexOf("#")?(d=b.indexOf("#"),e=b.substring(d+1),d=b.substring(0,d).toUpperCase(),(!d||a.tagName===d)&&a.id===e):a.tagName.toLowerCase()===
b};h.fire=function(a,b,d){var c={left:b.pageX,top:b.pageY},e=a.target[0],m=[e],l=!1,n=0,f,k;if(g.length)for(;n<g.length;n++)f=g[n],k=f.elem,l=q[f.mode],"*"!==f.accept&&!h.filter(e,f.accept)||e===k[0]||("pointer"!==f.mode&&(c.top-=b.offsetY,c.left-=b.offsetX,c.right=c.left+a.width,c.bottom=c.top+a.height),l=l(c,f),d?l?(f.isEnter||(f.isEnter=!0,f.elem.trigger("likedropenter",m)),f.elem.trigger("likedropover",m)):f.isEnter&&(f.isEnter=!1,f.elem.trigger("likedropexit",m)):l&&f.elem.trigger("likedrop",
m))};h.refresh=function(a){var b=g.length,d=$.extend,c=0,e;if(b)if(void 0===a)for(;c<b;c++)e=g[c],d(e,k(e.elem));else c=a.data("dropIndex"),e=g[c],d(e,k(a))};h.prototype={destroy:function(){if(this.__o__){var a=this.__o__.target,b=a.data("dropIndex");g.splice(b,1);a.removeData("dropIndex").off("likedropenter likedropover likedropexit likedrop");this.__o__=null;delete this.__o__}},on:function(a,b){if(this.__o__){var d=this;d.__o__.target.on("like"+a,function(c,e){c.type=a;c.drag=e;c.drop=c.target;
b.call(d,c);c.stopPropagation()})}return this},un:function(a){this.__o__&&this.__o__.target.off("like"+a);return this}};$.ui||($.ui={});$.ui.Drop=h});
