/* Sortable component for jQuery ( AMD Module ) | MIT Licenses | 2013-10-27 */
define(["../../drop/js/drop.min"],function(){var r={connect:null,disable:null},s=$.ui.Drag,l=$.ui.Drop,h={start:function(a){$(a.drag).css({opacity:"0.3",zIndex:"10000"})},end:function(a){var c=$(a.drag);c.css("zIndex","").animate({opacity:1},function(){c.css("opacity","")})},enter:function(a,c){var b=c.drag,d=c.drop,g=b.parentNode,f=$(b),e=$(d),n=f.index(),p=e.index(),m=e.data("sortConnect"),h=!1,k;if(d.parentNode===g){if(2<a.drops.length&&1<Math.abs(n-p)&&(k=e.next(),k.length||(k=e.prev(),h=!0)),f[n<
p?"before":"after"](d),k)k[h?"after":"before"](b)}else if(m&&l.filter(g,m))e.before(b),f.data("sortConnect",m);else return;l.refresh(e);a.target.trigger("moved",[b,d])}},q=function(a,c){a=$(a).eq(0);c=c||{};if(a.length){var b=$.extend({},r,c),d=a.children(),g=b.connect,f=[],e=[];b.drags=f;b.drops=e;b.target=a;d.each(function(){var a=$(this);if(!b.disable||!a.is(b.disable))f.push(new s(this,{refresh:!1,proxy:!0})),e.push(new l(this)),g&&a.data("sortConnect",g)});$.each(f,function(a,c){c.on("dragstart",
h.start).on("dragend",h.end);e[a].on("dropenter",function(a){h.enter(b,a)})});this.__o__=b}};q.prototype={destroy:function(){if(this.__o__){var a=this.__o__;a.drags.forEach(function(c,b){c.destroy();a.drops[b].destroy()});a.target.off("moved");a=a.drags=a.drops=null;delete this.__o__}},on:function(a,c){if(this.__o__){var b=this;this.__o__.target.on(a,function(d,g,f){d.drag=g;d.drop=f;d.type=a;c.call(b,d);d.stopPropagation()});return this}},un:function(a){this.__o__&&this.__o__.target.off(a);return this}};
$.ui||($.ui={});$.ui.Sortable=q});
