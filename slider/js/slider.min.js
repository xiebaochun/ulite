/* Slider component for jQuery ( AMD Module ) | MIT Licenses | 2013-10-27 */
define(["../../drag/js/drag.min"],function(){var t={axis:"x",min:0,max:100,value:0,size:"220px"},m={setValue:function(a,b,c){var d=a.complete,e=a.min,g=a.max;b=c?b+"px":((b<e?e:b>g?g:b)-a.min)*a.length/a.ratio+"px";d&&(d[0].style[a.sizeName]=b);a.thumb[0].style[a.posName]=b}},l=function(a,b){a=$(a).eq(0);b=b||{};if(a.length){var c=$.extend({},t,b),d=a.find("div.sd_complete"),e=a.find("div.sd_thumb"),g=c.axis,n=c.min,l=c.max,r="x"===g,s=r?"left":"top",k=r?"width":"height",p=l-n,h=this,q,f;a.css(k,c.size);
f=a[k]()-e[k]();c.thumb=e;c.length=f;c.ratio=p;c.posName=s;c.sizeName=k;d.length&&(c.complete=d,q=d[0].style);m.setValue(c,c.value);h.value=c.value;d=new $.ui.Drag(e,{axis:g,container:a,moveHand:!1});d.on("dragstart",function(){e.trigger("likeslidestart")}).on("drag",function(){var a=this[s];q&&(q[k]=a+"px");h.value=Math.round(a/f*p)+n;e.trigger("likeslide")}).on("dragend",function(){e.trigger("likeslideend")});a.on("click.slider",function(a){var b="offset"+g.toUpperCase();a=a[b];a=a>f?f:a;m.setValue(c,
a,!0);h.value=Math.round(a/f*p)+n;e.trigger("likeslide");e[0].focus()});e.attr("tabindex")||e.attr("tabindex","0");e.on("click.slider",function(a){this.focus();a.stopPropagation()}).on("keydown.slider",function(a){a=a.which;var b="x"===g,d=!1,f=h.value;if(b&&39===a||!b&&40===a)d=!0,f++;else if(b&&37===a||!b&&38===a)d=!0,f--;if(f<n||f>l)d=!1;d&&(m.setValue(c,f),h.value=f,e.trigger("likeslide"));return!1});c.target=a;c.drag=d;h.__o__=c}};l.prototype={destroy:function(){if(this.__o__){var a=this.__o__;
a.drag.destroy();a.thumb.off("likeslidestart likeslide likeslideend click.slider keydown.slider");a.target.off("click.slider");this.__o__=null;delete this.__o__}},on:function(a,b){if(!this.__o__)return this;var c=this;c.__o__.thumb.on("like"+a,function(d){d.type=a;b.call(c,d);d.stopPropagation()});return this},un:function(a){this.__o__&&this.__o__.thumb.off("like"+a);return this},setValue:function(a){if(!this.__o__)return this;var b=this.__o__;m.setValue(b,a);this.value=a;b.thumb.trigger("likeslide");
return this}};$.ui||($.ui={});$.ui.Slider=l});
